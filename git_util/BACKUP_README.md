# 프로젝트 백업 및 복구 시스템

이 시스템은 Next.js 프로젝트의 상태를 백업하고 필요할 때 특정 시점으로 복구할 수 있는 도구를 제공합니다.

## 스크립트 설명

### 백업 스크립트

1. **backup.sh**: 파일 시스템 백업을 생성합니다.
   - 소스 코드, 설정 파일 등을 백업합니다.
   - 사용법: `./backup.sh`

2. **git_backup.sh**: Git을 사용하여 프로젝트 상태를 백업합니다.
   - 백업 브랜치와 태그를 생성합니다.
   - 사용법: `./git_backup.sh`

3. **backup_all.sh**: 파일 시스템 백업과 Git 백업을 모두 수행합니다.
   - 사용법: `./backup_all.sh`

### 복구 스크립트

1. **restore.sh**: 파일 시스템 백업에서 프로젝트를 복구합니다.
   - 사용법: `./restore.sh [백업ID]`
   - 예: `./restore.sh 20240601_123045`

2. **git_restore.sh**: Git 백업에서 프로젝트를 복구합니다.
   - 사용법: `./git_restore.sh [백업ID]`
   - 예: `./git_restore.sh 20240601_123045`

3. **undo_restore.sh**: 복구 작업을 취소하고 이전 상태로 돌아갑니다.
   - 사용법: `./undo_restore.sh`

## 사용 방법

### 백업 생성하기

1. **일반 작업 전 백업**:
   ```bash
   ./backup_all.sh
   ```

2. **중요한 변경 전 백업**:
   ```bash
   ./backup_all.sh
   ```

3. **정기적인 백업 설정**:
   ```bash
   # crontab에 추가하여 매일 자정에 백업 실행
   0 0 * * * cd /path/to/project && ./backup_all.sh
   ```

### 백업 목록 확인하기

1. **파일 시스템 백업 목록**:
   ```bash
   cat ./project_backups/backup_list.txt
   ```

2. **Git 백업 목록**:
   ```bash
   cat ./project_backups/git_backup_list.txt
   ```

3. **모든 백업 목록**:
   ```bash
   cat ./project_backups/all_backups.txt
   ```

### 백업에서 복구하기

1. **파일 시스템 백업에서 복구**:
   ```bash
   ./restore.sh [백업ID]
   ```

2. **Git 백업에서 복구**:
   ```bash
   ./git_restore.sh [백업ID]
   ```

3. **복구 취소하기**:
   ```bash
   ./undo_restore.sh
   ```

## 백업 전략 권장사항

1. **정기적인 백업**: 매일 작업 시작 전과 종료 후에 백업을 생성하세요.

2. **중요 변경 전 백업**: 중요한 변경을 시작하기 전에 항상 백업을 생성하세요.

3. **백업 테스트**: 정기적으로 백업에서 복구 테스트를 수행하여 백업이 제대로 작동하는지 확인하세요.

4. **외부 저장소 활용**: 중요한 백업은 외부 저장소(클라우드 스토리지, 외장 하드 등)에 복사하세요.

## 주의사항

1. 복구 작업은 현재 프로젝트 상태를 덮어쓰므로 신중하게 진행하세요.
2. 복구 전에 현재 작업 중인 내용을 커밋하거나 스태시하는 것이 좋습니다.
3. 백업 디렉토리(`./project_backups/`)가 너무 커지면 오래된 백업을 정리하세요.

## 문제 해결

1. **스크립트 실행 권한 오류**:
   ```bash
   chmod +x *.sh
   ```

2. **Git 백업 실패**:
   - Git 저장소가 초기화되어 있는지 확인하세요.
   - 변경 사항이 스테이징되어 있는지 확인하세요.

3. **복구 실패**:
   - 백업 ID가 올바른지 확인하세요.
   - 백업 파일이 손상되지 않았는지 확인하세요. 